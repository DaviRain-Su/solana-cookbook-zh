# Accounts

Solana中的账户用于存储状态。它们是在Solana上进行开发的基本构建模块。

## 事实

> 事实简报
>
> - 账户用于存储数据
> - 每个账户都有一个唯一的地址
> - 帐户的最大大小为 10MB（10 兆字节）
> - PDA 帐户的最大大小为 10KB（10 千字节）
> - PDA账户可以代表一个程序进行签名
> - 帐户大小在创建时是固定的，但可以使用 [realloc]() 进行调整
> - 账户数据存储是通过租金支付的
> - 默认帐户所有者是系统程序

## 深入

### 账户模型

Solana 上有 3 种账户：

- 数据帐户存储数据
- 程序帐户存储可执行程序
- 在Solana上指示本地程序的本地账户，例如System、Stake和Vote

数据帐户内有 2 种类型：

- 系统拥有的帐户
- PDA（程序派生地址）帐户

每个账户都有一个地址（通常是公钥）和一个所有者（程序账户的地址）。账户存储的完整字段列表如下所示。

| 字段  | 描述 |
| ------------- | ------------- |
| `lamports`  | 帐户中的 lamports 数量  |
| `owner`  | 该帐户的程序所有者 |
| `executable` | 该账户是否可以处理指令 |
| `data` | 该账户存储的原始数据字节数组 |
| `rent_epoch` | 这个账户将要支付的下一个时期的租金 |


有一些重要的所有权规则：

- 只有数据账户的所有者才能修改其数据和扣除lamports
- 任何人都可以将Lamport积分存入数据账户
- 如果账户的数据被清零，账户的所有者可以指定一个新的所有者

程序帐户不存储状态。

例如，如果您有一个可以递增计数器的计数器程序，则必须创建两个帐户，一个帐户用于存储程序代码，另一个帐户用于存储计数器。

![](./img/account_example.jpeg)

为了防止帐户被删除，您必须支付租金。

### Rent

在账户上存储数据需要花费 SOL 来维护，这是通过所谓的租金来资助的。如果您在账户中保持相当于2年租金支付的最低余额，您的账户将免除支付租金。您可以通过关闭账户并将 lamports 发送回您的钱包来取回租金。

租金在两个不同的时间支付：

1. 当被交易引用时
2. 一次时代

账户收取的一定比例的租金将被销毁，其余的则在每个时段结束时分配给投票账户。

如果账户余额不足以支付租金，账户将被注销并删除数据。

还需要注意的是，新帐户必须免租。


## 其他资源

- [Solana 账户模型](https://solana.wiki/zh-cn/docs/account-model/#account-storage)
- [Solana Docs](https://docs.solana.com/developing/programming-model/accounts)
- [pencilflip threads](https://twitter.com/pencilflip/status/1452402100470644739)

### Credit

这一核心概念归功于 [Pencilflip](https://twitter.com/intent/user?screen_name=pencilflip)。在推特上关注他。
